let Schema,model,profanityFilter;_003‍.x([["default",()=>_003‍.o]]);_003‍.w("mongoose",[["Schema",["Schema"],function(v){Schema=v}],["model",["model"],function(v){model=v}]]);_003‍.w("../utils/profanityFilter",[["default",["profanityFilter"],function(v){profanityFilter=v}]]);


const productSchema = new Schema({
  name: {
    type: String,
    required: true,
  },
  img: {
    type: String,
    required: true,
  },
  desc: {
    type: String,
    required: true,
  },
  price:{
    type:Number,
    required:true
  },
  createdAt: { type: Date, default: Date.now },
 
});

productSchema.pre("validate", function (next) {
  if (!this.isModified("content")) {
    return next();
  }

  if (profanityFilter(this.content)) {
    this.isApproved = false;
    next();
  } else {
    next();
  }
});

const Product = model("Product", productSchema);

_003‍.d(Product);
